<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}AutoStock - PDV{% endblock %}</title>
  <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
  <div class="header">
    <button class="menu-btn" aria-label="Abrir menu" id="menuToggle">
      <svg width="28" height="28" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
    </button>
    <span class="header-title">AutoStock PDV</span>
    {% block header_actions %}{% endblock %}
  </div>
  <div class="main-layout">
    <aside class="sidebar" id="sidebar">
      <nav>
        <div class="menu-group">
          <span class="menu-group-title">Cadastros</span>
          <ul>
            <li><a href="/fornecedores/" class="menu-link"><span class="menu-icon">🚚</span> Fornecedores</a></li>
            <li><a href="/clientes/" class="menu-link"><span class="menu-icon">👤</span> Clientes</a></li>
            <li><a href="/categorias/" class="menu-link"><span class="menu-icon">📂</span> Categorias</a></li>
            <li><a href="/produtos/" class="menu-link"><span class="menu-icon">📦</span> Produtos</a></li>
          </ul>
        </div>
        <div class="menu-group">
          <span class="menu-group-title">Operações</span>
          <ul>
            <li><a href="/estoque/" class="menu-link"><span class="menu-icon">🏬</span> Estoque</a></li>
            <li><a href="/precos/" class="menu-link"><span class="menu-icon">🏷️</span> Preços</a></li>
            <li><a href="/orders/" class="menu-link"><span class="menu-icon">📝</span> Pedidos</a></li>
            <li><a href="/carrinho/" class="menu-link"><span class="menu-icon">🛒</span> Carrinho</a></li>
          </ul>
        </div>
      </nav>
    </aside>
      {% block content %}{% endblock %}
    </main>
  </div>
  <script>
    // Hamburger menu functionality
    const menuToggle = document.getElementById('menuToggle');
    const sidebar = document.getElementById('sidebar');
    menuToggle.addEventListener('click', function() {
      sidebar.classList.toggle('sidebar-open');
    });
    // Close sidebar on click outside (mobile)
    document.addEventListener('click', function(e) {
      if(window.innerWidth < 900 && sidebar.classList.contains('sidebar-open')) {
        if(!sidebar.contains(e.target) && !menuToggle.contains(e.target)) {
          sidebar.classList.remove('sidebar-open');
        }
      }
    });
    // Highlight active menu
    document.querySelectorAll('.menu-link').forEach(link => {
      if(link.getAttribute('href') === window.location.pathname) {
        link.classList.add('active');
      }
    });
  </script>
</body>
</html>